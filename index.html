<!-- https://codepen.io/yagoestevez/pen/EdgRMX -->
<!-- https://codepen.io/hudsonmarinho/pen/kMxPRa -->
<!-- https://codepen.io/eddyerburgh/pen/oxwXjx -->
<!-- https://codepen.io/albizan/details/mMWdWZ -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Jocelin LAURET</title>
    <link rel="stylesheet" href="static/css.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
</head>
<body>
    <nav>
        <h1>Portfolio</h1>
        <ul>
            <li><a href="#Profil">Profil</a></li>
            <li><a href="#Projets">Projets</a></li>
            <li><a href="#Sport">Sport</a></li>
            <li><a href="#Contact">Contact</a></li>
        </ul>
    </nav>
    <header>
        <!-- Section Profil -->
        <section id="Profil">
            <h1 class="text">Jocelin LAURET</h1>
            <H2>Bonjour, je m'appelle Jocelin LAURET. Je suis actuellement en deuxième année de BUT en Réseaux et Télécommunication parcours Cybersécurité à l'IUT de Reims-Châlons-Charleville sur le site de Châlons-en-Champagne.</H2>
        </section>
    </header>

    <main>
        <div class="grid">
            <div class="card">   
                <!-- Section Projets -->
                <section id="Projets">
                    <h1 class="text">Projets :</h1>
                    <div class="slider">
                        <div class="slide active">
                            <h2>Trame ICMP en Python :</h2>
                            <img src="static/img/python.png" alt="Python Icon">
                            <button id="toggleCodeBtn" onclick="Githubcode('Scolaire_icmp')">Afficher le code</button>                           
                            <pre class="Scolaire_icmp"><code class="language-python"></code></pre>
                            <a href="https://github.com/Jocelin2/Projets/tree/main/Scolaire/Python">Voir le projet</a>
                        </div>
                        <div class="slide">
                            <h2>Robot humanoïde :</h2>
                            <img src="static/img/arduino.png" alt="Arduino Icon">
                            <a href="#">Voir le projet</a>
                        </div>
                        <div class="slide">
                            <h2>Strava API :</h2>
                            <img src="static/img/strava.png" alt="Strava Icon">
                            <button id="toggleCodeBtn" onclick="Githubcode('Perso_strava')">Afficher le code</button>
                            <pre class="Perso_strava"><code class="language-python"></code></pre>
                            <a href="#">Voir le projet</a>
                        </div>
                    </div>
                    <div class="news-slider__arrows">
                        <button class="news-slider__arrow news-slider-prev" onclick="changeSlide(-1)">
                          <span class="icon-font">
                            <svg class="icon icon-arrow-left">
                              <use xlink:href="#icon-arrow-left"></use>
                            </svg>
                          </span>
                        </button>
                        <button class="news-slider__arrow news-slider-next" onclick="changeSlide(-1)">
                          <span class="icon-font">
                            <svg class="icon icon-arrow-right">
                              <use xlink:href="#icon-arrow-right"></use>
                            </svg>
                          </span>
                        </button>
                    </div>
                    <svg aria-hidden="true" style="display: none;">
                        <defs>
                          <!-- Flèche Gauche -->
                          <symbol id="icon-arrow-left" viewBox="0 0 32 32">
                            <title>arrow-left</title>
                            <path style="color: black;" d="M0.704 17.696l9.856 9.856c0.896 0.896 2.432 0.896 3.328 0s0.896-2.432 0-3.328l-5.792-5.856h21.568c1.312 0 2.368-1.056 2.368-2.368s-1.056-2.368-2.368-2.368h-21.568l5.824-5.824c0.896-0.896 0.896-2.432 0-3.328-0.48-0.48-1.088-0.704-1.696-0.704s-1.216 0.224-1.696 0.704l-9.824 9.824c-0.448 0.448-0.704 1.056-0.704 1.696s0.224 1.248 0.704 1.696z"></path>
                          </symbol>
                      
                          <!-- Flèche Droite -->
                          <symbol id="icon-arrow-right" viewBox="0 0 32 32">
                            <title>arrow-right</title>
                            <path style="color: black;" d="M31.296 14.336l-9.888-9.888c-0.896-0.896-2.432-0.896-3.328 0s-0.896 2.432 0 3.328l5.824 5.856h-21.536c-1.312 0-2.368 1.056-2.368 2.368s1.056 2.368 2.368 2.368h21.568l-5.856 5.824c-0.896 0.896-0.896 2.432 0 3.328 0.48 0.48 1.088 0.704 1.696 0.704s1.216-0.224 1.696-0.704l9.824-9.824c0.448-0.448 0.704-1.056 0.704-1.696s-0.224-1.248-0.704-1.664z"></path>
                          </symbol>
                        </defs>
                    </svg>                                     
                    <h3><a href="https://github.com/Jocelin2?tab=repositories">Github</a></h3>
                    <button class="custom-btn"><a href="static/pdf/CV.pdf">CV</a></button>
                </section>
            </div>
        </div>
        <!-- Section Sport -->
        <div class="grid">
            <div class="card">
                <section id="Sport">
                    <h1 class="text">Sport : </h1>
                    <h3>
                        La Course d'Orientation à VTT (COVTT) joue un rôle majeur dans ma vie. 
                        En 2020, durant mon année de Seconde, j'ai intégré le pôle espoir de CO au CNSD 
                        de Fontainebleau. Grâce à un emploi du temps aménagé pour le lycée, j'ai pu m'entraîner 
                        régulièrement jusqu'à la Terminale en 2023. Cet engagement m'a permis de rejoindre le 
                        groupe France et de participer à des compétitions internationales.
                    </h3>
                    <div class=""></div>
                </section>
            </div>
        </div>
    </main>

    <!-- Section Contact -->
    <footer>
        <h2 id="Contact" class="text">Contact</h2>
        <form id="contact-form">
            <input type="text" id="name" placeholder="Votre nom" required>
            <input type="email" id="email" placeholder="Votre email" required>
            <textarea id="message" placeholder="Votre message" rows="4" required></textarea>
            <button type="submit">Envoyer</button>
        </form>      
    </footer>

    <!-- Scripts JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
       (function() {
          emailjs.init("vCwDMPJLBtg6MrbGY");
       })();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Empêche le rechargement de la page lors de la soumission du formulaire

            const Button = document.querySelector('button[type="submit"]');
            const Form = document.getElementById('contact-form');
            // change "envoyer" button to "envoi en cours" and add loader SVG
            Button.textContent = 'Envoi en cours...';
        

            // Envoie l'email avec EmailJS
            emailjs.send("service_thfi504", "template_z0mh4i8", {
                from_name: document.getElementById('name').value,
                from_email: document.getElementById('email').value,
                message: document.getElementById('message').value
            }).then(function(response) {
                // affiche le message de succès pendant 4 secondes
                setTimeout(function() {
                    Button.style.backgroundColor = '#4caf50';
                    Button.textContent = 'Message envoyé avec succès'; 
                    // Réinitialise le formulaire après 4 secondes supplémentaires
                    setTimeout(function() {
                        Button.style.backgroundColor = '';
                        Button.textContent = 'Envoyer';
                        Form.reset();
                    }, 4000);
                }, 4000);

            }, function(error) {
                // affiche le message d'erreur pendant 4 secondes
                setTimeout(function() {
                    Button.style.backgroundColor = '#f44336';
                    Button.textContent = 'Erreur lors de l\'envoi, veuillez réessayer'; 
                    // Réinitialise le formulaire après 4 secondes supplémentaires
                    setTimeout(function() {
                        Button.style.backgroundColor = '';
                        Button.textContent = 'Envoyer';
                        Form.reset();
                    }, 4000);
                }, 4000);n
                console.error('Erreur lors de l\'envoi:', error); // Log l'erreur dans la console
            });
        });
    });
    // Sélectionne les éléments du DOM
    const toggleCodeBtn = document.getElementById('toggleCodeBtn');
    const codeBlock = document.getElementById('codeBlock');

    // Ajoute un événement de clic sur le bouton
    function affiche(Block) {
        // Vérifie si le bloc de code est actuellement visible
        if (Block.style.display === 'none' || Block.style.display === '') {
            // Si le code est masqué, on l'affiche
            Block.style.display = 'block';
            toggleCodeBtn.textContent = 'Masquer le code';
        } else {
            // Si le code est visible, on le masque
            Block.style.display = 'none';
            toggleCodeBtn.textContent = 'Afficher le code';
        }
    };
    
    function Githubcode(url) {
        // Utilisation de Fetch API pour récupérer le contenu du fichier
        var urls = new Map();
        urls.set("Perso_strava", "https://raw.githubusercontent.com/Jocelin2/Projets/refs/heads/main/Personnel/download_activities.py");
        urls.set("Scolaire_icmp", "https://raw.githubusercontent.com/Jocelin2/Projets/refs/heads/main/Scolaire/Python/ip_handling.py");
        const Block = document.getElementsByClassName(url)[0]
        fetch(urls.get(url))
            .then(response => {
            if (!response.ok) {
                throw new Error('Erreur lors du chargement du fichier : ' + response.statusText);
            }
                return response.text();
            })
            .then(data => {
                // Insérer le contenu du fichier dans le bloc de code
                Block.textContent = data;
                // Ré-appliquer la coloration syntaxique avec Prism.js
                Prism.highlightElement(Block);
            })
            .catch(error => {
                console.error('Erreur:', error);
                Block.textContent = 'Erreur lors du chargement du fichier.';
            });		
        affiche(Block);
    };

    //en scrollant le background du nav devient blanc et le texte devient noir au bout de 100vh
    window.addEventListener('scroll', function() {
        var nav = document.querySelector('nav');
        var navlinks = document.querySelectorAll('nav a');
        if (window.scrollY > 10 /*window.innerHeight - 55*/) {
            nav.style.backgroundColor = 'white';
            nav.style.color = 'black';
            navlinks.forEach(function(link) {
                link.style.color = 'black';
            });
        } else {
            nav.style.backgroundColor = 'transparent';
            nav.style.color = 'white';
            navlinks.forEach(function(link) {
                link.style.color = 'white';
            });
        }
    });
    let currentSlide = 0;

    function changeSlide(direction) {
        const slides = document.querySelectorAll('.slide');
        slides[currentSlide].classList.remove('active');

        currentSlide += direction;
        if (currentSlide < 0) {
            currentSlide = slides.length - 1;
        } else if (currentSlide >= slides.length) {
            currentSlide = 0;
        }

        slides[currentSlide].classList.add('active');
    }

    // Affiche la première slide au chargement
    document.addEventListener("DOMContentLoaded", () => {
        const slides = document.querySelectorAll('.slide');
        if (slides.length) {
            slides[0].classList.add('active');
        }
    });
    

    </script>
</body>
</html>
